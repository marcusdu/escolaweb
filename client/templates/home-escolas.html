<div ng-cloak>
    <h3>Gerenciar escolas </h3>

    <!-- datatable -->
    <!--<md-toolbar class="md-table-toolbar md-default">
        <div class="md-toolbar-tools">
            <span>Minhas Escolas</span>
        </div>
    </md-toolbar>-->

    <md-table-container>
        <table md-table>
            <thead md-head md-order="ctx.query.order">
                <tr md-row>
                    <th md-column md-order-by="nome"><span>Escola</span></th>
                    <th md-column md-order-by="endereco.rua"><span>Rua</span></th>
                    <th md-column md-order-by="endereco.cidade">Cidade</th>
                    <th md-column>Ações</th>
                </tr>
            </thead>
            <tbody md-body>
                <tr md-row ng-repeat="escola in ctx.data.escolas">
                    <td md-cell>{{escola.nome}}</td>
                    <td md-cell>{{escola.endereco.rua}}</td>
                    <td md-cell>{{escola.endereco.cidade}}</td>
                    <td md-cell>
                        <md-button title="Gerenciar escola" class="md-fab md-mini md-primary" 
                                    aria-label="Gerenciar {{escola.nome}}"
                                    ng-click="ctx.$state.go('base.escolas.detalhe', ctx.utils.getState(escola._id), {reload:true})">
                            <ng-md-icon icon="developer_dashboard" style="fill: white;"></ng-md-icon> 
                        </md-button>

                    </td>
                </tr>
            </tbody>
        </table>
    </md-table-container>

    <md-table-pagination md-limit="ctx.query.limit" 
            md-limit-options="[5, 10, 15]" 
            md-page="ctx.query.page" 
            md-total="{{ctx.data.escolas.length}}" md-page-select>
    </md-table-pagination>
</div>